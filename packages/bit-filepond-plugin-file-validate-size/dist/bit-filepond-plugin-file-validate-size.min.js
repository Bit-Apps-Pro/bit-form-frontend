var bit_filepond_plugin_file_validate_size=function(){"use strict";const e=e=>{let{addFilter:i,utils:E}=e;const{Type:_,replaceInString:l,toNaturalFileSize:I}=E;return i("ALLOW_HOPPER_ITEM",((e,i)=>{let{query:E}=i;if(!E("GET_ALLOW_FILE_SIZE_VALIDATION"))return!0;const _=E("GET_MAX_FILE_SIZE");if(null!==_&&e.size>_)return!1;const l=E("GET_MIN_FILE_SIZE");return!(null!==l&&e.size<l)})),i("LOAD_FILE",((e,i)=>{let{query:E}=i;return new Promise(((i,_)=>{if(!E("GET_ALLOW_FILE_SIZE_VALIDATION"))return i(e);const t=E("GET_FILE_VALIDATE_SIZE_FILTER");if(t&&!t(e))return i(e);const n=E("GET_MAX_FILE_SIZE");if(null!==n&&e.size>n)return void _({status:{main:E("GET_LABEL_MAX_FILE_SIZE_EXCEEDED"),sub:l(E("GET_LABEL_MAX_FILE_SIZE"),{filesize:I(n,".",E("GET_FILE_SIZE_BASE"),E("GET_FILE_SIZE_LABELS",E))})}});const L=E("GET_MIN_FILE_SIZE");if(null!==L&&e.size<L)return void _({status:{main:E("GET_LABEL_MIN_FILE_SIZE_EXCEEDED"),sub:l(E("GET_LABEL_MIN_FILE_SIZE"),{filesize:I(L,".",E("GET_FILE_SIZE_BASE"),E("GET_FILE_SIZE_LABELS",E))})}});const T=E("GET_MAX_TOTAL_FILE_SIZE");null!==T&&E("GET_ACTIVE_ITEMS").reduce(((e,i)=>e+i.fileSize),0)>T?_({status:{main:E("GET_LABEL_MAX_TOTAL_FILE_SIZE_EXCEEDED"),sub:l(E("GET_LABEL_MAX_TOTAL_FILE_SIZE"),{filesize:I(T,".",E("GET_FILE_SIZE_BASE"),E("GET_FILE_SIZE_LABELS",E))})}}):i(e)}))})),{options:{allowFileSizeValidation:[!0,_.BOOLEAN],maxFileSize:[null,_.INT],minFileSize:[null,_.INT],maxTotalFileSize:[null,_.INT],fileValidateSizeFilter:[null,_.FUNCTION],labelMinFileSizeExceeded:["File is too small",_.STRING],labelMinFileSize:["Minimum file size is {filesize}",_.STRING],labelMaxFileSizeExceeded:["File is too large",_.STRING],labelMaxFileSize:["Maximum file size is {filesize}",_.STRING],labelMaxTotalFileSizeExceeded:["Maximum total size exceeded",_.STRING],labelMaxTotalFileSize:["Maximum total file size is {filesize}",_.STRING]}}};return"undefined"!=typeof window&&void 0!==window.document&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:e})),e}();
