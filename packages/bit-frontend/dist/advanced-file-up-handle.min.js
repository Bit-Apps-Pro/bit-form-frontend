!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):(e="undefined"!=typeof globalThis?globalThis:e||self)["advanced-file-up-handle"]=n()}(this,(function(){"use strict";function e(e,n,l){if((null==l?void 0:l.length)>1){const i=[];for(let o=0;o<l.length;o+=1){const{serverId:t}=l[o];var d;t?i.push(t):e.append(`${n}[]`,null===(d=l[o])||void 0===d?void 0:d.file)}i.length&&e.append(n,i.join(","))}else{var i,o,t;const d=null!==(i=l[0])&&void 0!==i&&i.serverId?null===(t=l[0])||void 0===t?void 0:t.serverId:null===(o=l[0])||void 0===o?void 0:o.file;e.append(n,d)}return e}return function(n,l){const d=n.inits||{},i=Object.keys(d).filter((e=>"advanced-file-up"===n.fields[e].typ));for(let n=0;n<(null==i?void 0:i.length);n+=1){var o;l.has(i[n])&&(l.delete(i[n]),null!==(o=d[i[n]])&&void 0!==o&&o.on_select_upload?l.append(i[n],d[i[n]].uploaded_files):l=e(l,i[n],d[i[n]].files))}return l}}));
