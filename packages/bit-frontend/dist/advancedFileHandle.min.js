!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):(e="undefined"!=typeof globalThis?globalThis:e||self).advancedFileHandle=n()}(this,(function(){"use strict";function e(e,n,l){if((null==l?void 0:l.length)>1){const i=[];for(let o=0;o<l.length;o+=1){const{serverId:t}=l[o];var d;t?i.push(t):e.append(`${n}[]`,null===(d=l[o])||void 0===d?void 0:d.file)}i.length&&e.append(n,i.join(","))}else{var i,o,t;const d=null!==(i=l[0])&&void 0!==i&&i.serverId?null===(t=l[0])||void 0===t?void 0:t.serverId:null===(o=l[0])||void 0===o?void 0:o.file;e.append(n,d)}return e}return function(n,l){const d=n.inits||{},i=Object.keys(d).filter((e=>"advanced-file-up"===n.fields[e].typ));for(let t=0;t<(null==i?void 0:i.length);t+=1){const f=n.fields[i[t]].fieldName;var o;l.has(f)&&(l.delete(f),null!==(o=d[f])&&void 0!==o&&o.on_select_upload?l.append(f,d[f].uploaded_files):l=e(l,f,d[i[t]].files))}return l}}));
