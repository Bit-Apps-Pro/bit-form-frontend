!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).validateForm=t()}(this,(function(){"use strict";let e,t,n={};const i=t=>window?.bf_globals?.[e].inits?.[t],o=i=>{const o=document.getElementById(`form-${e}`).querySelector(`[name="${i}"]`).id,l="[]"===i.slice(-2)?i.slice(0,i.length-2):i;if(o!==l){if(n[l])return n[l];const e=Object.entries(t);for(let t=0;t<e.length;t+=1){const[i,o]=e[t];if(o?.fieldName===l)return n[l]=i,i}}return o},l=(t,n,i)=>{const o=document.querySelector(`#form-${e} .${n}-err-txt`);o&&"err"in(i||{})&&(t&&i?.err?.[t]?.show?(o.innerHTML=i.err[t].custom?i.err[t].msg:i.err[t].dflt,o.parentElement.style.marginTop="9px",o.parentElement.style.height="auto",o.parentElement.style.removeProperty("display"),d(n)):(o.innerHTML="",o.parentElement.style.marginTop=0,o.parentElement.style.height=0,o.parentElement.style.display="none"))},d=t=>{const n=document.querySelector(`#form-${e} .btcd-fld-itm.${t}`),i=document.body.getBoundingClientRect(),o=n.getBoundingClientRect().top-i.top;r(n)||window.scroll({top:o,behavior:"smooth"})},r=e=>{const t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)};return function(d){let{form:r,input:a}=d;if(r?e=r:a?.form?.id&&([,e]=a.form.id.split("form-")),void 0===window?.bf_globals?.[e])return!1;let f={};if(t=window?.bf_globals?.[e].fields,r)f=(()=>{const i=new FormData(document.getElementById(`form-${e}`)),l={},d=Array.from(i.entries());return n={},d.forEach((e=>{let[n,i]=e;const d=o(n);d in t&&(l[d]?(Array.isArray(l[d])||(l[d]=[l[d]]),l[d].push(i)):l[d]=i)})),l})();else if(a){if(!window?.bf_globals?.[e].validateFocusLost)return!0;const n=o(a.name);f={[n]:a.value},t={[n]:t[n]}}let c=!0;const u=Object.entries(t);let{length:s}=u;for(;s--;){const[t,n]=u[s],o=n.typ,d="string"==typeof f[t]?f[t].trim():f[t],r=document.querySelector(`#form-${e} .${t}`);if("none"===window.getComputedStyle(r).display){l("",t);continue}let a="";"check"===o&&d&&(a="undefined"!=typeof checkFldValidation?checkFldValidation(d,n):""),d?("number"===o&&"undefined"!=typeof nmbrFldValidation?a=nmbrFldValidation(d,n):"email"===o&&"undefined"!=typeof emailFldValidation?a=emailFldValidation(d,n):"url"===o&&"undefined"!=typeof urlFldValidation?a=urlFldValidation(d,n):"decision-box"===o&&"undefined"!=typeof dcsnbxFldValidation?a=dcsnbxFldValidation(d,n):"check"!==o&&"select"!==o||"undefined"==typeof checkMinMaxOptions?"file-up"===o&&"undefined"!=typeof fileupFldValidation?a=fileupFldValidation(d,n):"advanced-file-up"===o&&"undefined"!=typeof advanceFileUpFldValidation&&(a=advanceFileUpFldValidation(i(t),n)):a=checkMinMaxOptions(d,n),"check"!==o&&"radio"!==o||"undefined"==typeof customOptionValidation||customOptionValidation(d,n),n?.valid?.regexr&&(a="undefined"!=typeof regexPatternValidation?regexPatternValidation(d,n):null,a)?(l(a,t,n),c=!1):(l(a,t,n),a&&(c=!1))):(a="undefined"!=typeof requiredFldValidation?requiredFldValidation(n):null,l(a,t,n),a&&(c=!1))}return c}}));
