!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).bit_razorpay_field=t()}(this,(function(){"use strict";const e=".bf-form";return class{#e=null;#t={clientId:"",options:{currency:"INR",amount:1,amountType:"fixed",theme:{},modal:{},prefill:{},notes:{}}};#n=null;#i=null;constructor(e,t){Object.assign(this.#t,t),this.#n=t.document||document,this.#i=t.window||window,this.#e="string"==typeof e?this.#n.querySelector(e):e,this.init()}init(){this.#o(this.#a(`.${this.#t.fieldKey}-razorpay-btn`),"click",(()=>{this.#r()}))}#a(e,t){return t?this.#n.querySelector(t).querySelector(e):this.#e.querySelector(e)}#o(e,t,n){e.addEventListener(t,n)}#s(t){let n=this.#a(`[name="${t}"]`,e);return n?("radio"===n.type&&(n=this.#a(`[name="${t}"]:checked`,e)),n.value||""):""}#r=()=>{const{currency:e,amount:t,amountType:n,amountFld:i,name:o,description:a,theme:r,prefill:s,modal:c,notes:l}=this.#t.options,{confirm_close:d}=c,u=100*Number("fixed"===n?t:this.#s(i)),m={key:this.#t.clientId,currency:e,amount:u,name:o,description:a,theme:r,prefill:{name:this.#s(s.name),email:this.#s(s.email),contact:this.#s(s.contact)},notes:l,modal:{backdropclose:!1,escape:!1,confirm_close:d},handler:async e=>onPaymentSuccess(e)};new this.#i.Razorpay(m).open()};destroy(){this.#e.innerHTML=""}reset(){this.destroy(),this.init()}}}));
