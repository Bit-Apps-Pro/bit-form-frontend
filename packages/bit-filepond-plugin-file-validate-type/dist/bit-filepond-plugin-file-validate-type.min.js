var bit_filepond_plugin_file_validate_type=function(){"use strict";
/*!
   * FilePondPluginFileValidateType 1.2.8
   * Licensed under MIT, https://opensource.org/licenses/MIT/
   * Please visit https://pqina.nl/filepond/ for details.
   */const e=e=>{let{addFilter:t,utils:i}=e;const{Type:n,isString:E,replaceInString:T,guesstimateMimeType:l,getExtensionFromFilename:_,getFilenameFromURL:a}=i,o=(e,t)=>e.some((e=>{return/\*$/.test(e)?(i=e,(/^[^/]+/.exec(t)||[]).pop()===i.slice(0,-2)):e===t;var i})),s=(e,t,i)=>{if(0===t.length)return!0;const n=(e=>{let t="";if(E(e)){const i=a(e),n=_(i);n&&(t=l(n))}else t=e.type;return t})(e);return i?new Promise(((E,T)=>{i(e,n).then((e=>{o(t,e)?E():T()})).catch(T)})):o(t,n)};return t("SET_ATTRIBUTE_TO_OPTION_MAP",(e=>Object.assign(e,{accept:"acceptedFileTypes"}))),t("ALLOW_HOPPER_ITEM",((e,t)=>{let{query:i}=t;return!i("GET_ALLOW_FILE_TYPE_VALIDATION")||s(e,i("GET_ACCEPTED_FILE_TYPES"))})),t("LOAD_FILE",((e,t)=>{let{query:i}=t;return new Promise(((t,n)=>{if(!i("GET_ALLOW_FILE_TYPE_VALIDATION"))return void t(e);const E=i("GET_ACCEPTED_FILE_TYPES"),l=i("GET_FILE_VALIDATE_TYPE_DETECT_TYPE"),_=s(e,E,l),a=()=>{const e=E.map((t=i("GET_FILE_VALIDATE_TYPE_LABEL_EXPECTED_TYPES_MAP"),e=>null!==t[e]&&(t[e]||e))).filter((e=>!1!==e));var t;const l=e.filter((function(t,i){return e.indexOf(t)===i}));n({status:{main:i("GET_LABEL_FILE_TYPE_NOT_ALLOWED"),sub:T(i("GET_FILE_VALIDATE_TYPE_LABEL_EXPECTED_TYPES"),{allTypes:l.join(", "),allButLastType:l.slice(0,-1).join(", "),lastType:l[e.length-1]})}})};if("boolean"==typeof _)return _?t(e):a();_.then((()=>{t(e)})).catch(a)}))})),{options:{allowFileTypeValidation:[!0,n.BOOLEAN],acceptedFileTypes:[[],n.ARRAY],labelFileTypeNotAllowed:["File is of invalid type",n.STRING],fileValidateTypeLabelExpectedTypes:["Expects {allButLastType} or {lastType}",n.STRING],fileValidateTypeLabelExpectedTypesMap:[{},n.OBJECT],fileValidateTypeDetectType:[null,n.FUNCTION]}}};return"undefined"!=typeof window&&void 0!==window.document&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:e})),e}();
