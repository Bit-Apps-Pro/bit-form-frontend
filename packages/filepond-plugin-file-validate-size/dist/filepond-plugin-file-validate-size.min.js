!function(e,i){"object"==typeof exports&&"undefined"!=typeof module?module.exports=i():"function"==typeof define&&define.amd?define(i):(e="undefined"!=typeof globalThis?globalThis:e||self).filepond_plugin_file_validate_size=i()}(this,(function(){"use strict";
/*!
     * FilePondPluginFileValidateSize 2.2.7
     * Licensed under MIT, https://opensource.org/licenses/MIT/
     * Please visit https://pqina.nl/filepond/ for details.
     */const e=e=>{let{addFilter:i,utils:E}=e;const{Type:l,replaceInString:_,toNaturalFileSize:t}=E;return i("ALLOW_HOPPER_ITEM",((e,i)=>{let{query:E}=i;if(!E("GET_ALLOW_FILE_SIZE_VALIDATION"))return!0;const l=E("GET_MAX_FILE_SIZE");if(null!==l&&e.size>l)return!1;const _=E("GET_MIN_FILE_SIZE");return!(null!==_&&e.size<_)})),i("LOAD_FILE",((e,i)=>{let{query:E}=i;return new Promise(((i,l)=>{if(!E("GET_ALLOW_FILE_SIZE_VALIDATION"))return i(e);const n=E("GET_FILE_VALIDATE_SIZE_FILTER");if(n&&!n(e))return i(e);const I=E("GET_MAX_FILE_SIZE");if(null!==I&&e.size>I)return void l({status:{main:E("GET_LABEL_MAX_FILE_SIZE_EXCEEDED"),sub:_(E("GET_LABEL_MAX_FILE_SIZE"),{filesize:t(I,".",E("GET_FILE_SIZE_BASE"),E("GET_FILE_SIZE_LABELS",E))})}});const L=E("GET_MIN_FILE_SIZE");if(null!==L&&e.size<L)return void l({status:{main:E("GET_LABEL_MIN_FILE_SIZE_EXCEEDED"),sub:_(E("GET_LABEL_MIN_FILE_SIZE"),{filesize:t(L,".",E("GET_FILE_SIZE_BASE"),E("GET_FILE_SIZE_LABELS",E))})}});const s=E("GET_MAX_TOTAL_FILE_SIZE");null!==s&&E("GET_ACTIVE_ITEMS").reduce(((e,i)=>e+i.fileSize),0)>s?l({status:{main:E("GET_LABEL_MAX_TOTAL_FILE_SIZE_EXCEEDED"),sub:_(E("GET_LABEL_MAX_TOTAL_FILE_SIZE"),{filesize:t(s,".",E("GET_FILE_SIZE_BASE"),E("GET_FILE_SIZE_LABELS",E))})}}):i(e)}))})),{options:{allowFileSizeValidation:[!0,l.BOOLEAN],maxFileSize:[null,l.INT],minFileSize:[null,l.INT],maxTotalFileSize:[null,l.INT],fileValidateSizeFilter:[null,l.FUNCTION],labelMinFileSizeExceeded:["File is too small",l.STRING],labelMinFileSize:["Minimum file size is {filesize}",l.STRING],labelMaxFileSizeExceeded:["File is too large",l.STRING],labelMaxFileSize:["Maximum file size is {filesize}",l.STRING],labelMaxTotalFileSizeExceeded:["Maximum total size exceeded",l.STRING],labelMaxTotalFileSize:["Maximum total file size is {filesize}",l.STRING]}}};return"undefined"!=typeof window&&void 0!==window.document&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:e})),e}));
